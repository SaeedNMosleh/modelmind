# PromptFoo Configuration
# Generated by ModelMind Runtime Testing System

prompts:
  - id: "diagram-modifier-unified-2.0.0"
    template: |
      {baseSystemPrompt}
      
      You are a specialist in modifying PlantUML diagrams based on user instructions.
      
      Current diagram:
      ```plantuml
      {currentDiagram}
      ```
      
      User modification request: {userInput}
      
      Diagram type: {diagramType}
      
      PlantUML Guidelines:
      {guidelines}
      
      Modify the diagram according to the user's instructions.
      Preserve existing structure while implementing the requested changes.
      Ensure the modified diagram uses correct PlantUML syntax.
      
      {formatInstructions}

providers:
  - "openai:gpt-4:{"temperature":0.7}"

tests:
  - vars:
      currentDiagram: "@startuml\nAlice -> Bob: Hello\n@enduml"
      userInput: "Add a response from Bob to Alice"
      guidelines: "Preserve existing interactions"
      formatInstructions: "Return only the modified PlantUML code"
      baseSystemPrompt: "[baseSystemPrompt placeholder]"
      diagramType: "[diagramType placeholder]"
    assert:
      - type: not-contains
        value: ""
      - type: not-contains
        value: "error"
      - type: contains
        value: "@startuml"
      - type: contains
        value: "@enduml"
    description: "Basic test case for diagram-modifier-unified"

defaultTest:
  vars:

  assert:
    - type: contains
      value: "@startuml"
    - type: contains
      value: "@enduml"

evaluateOptions:
  maxConcurrency: 3
  repeat: 1
  delay: 1000
